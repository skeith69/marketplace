{"version":3,"sources":["webpack:///resources/assets/js/admins/views/admins/AssignRoles.vue","webpack:///./resources/assets/js/admins/views/admins/AssignRoles.vue?117c","webpack:///./resources/assets/js/admins/views/admins/AssignRoles.vue?664f","webpack:///./resources/assets/js/admins/views/admins/AssignRoles.vue","webpack:///./resources/assets/js/admins/views/admins/AssignRoles.vue?0903"],"names":["__webpack_exports__","_this","this","roles","resolve","err","assignedRoles","admin","value","trim","_this2","id","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","disabled","for","directives","name","rawName","expression","type","domProps","on","input","$event","target","composing","$set","_l","role","index","key","_s","display_name","_m","requesting","data-toggle","class","active","isAssigned","click","toggleRole","autocomplete","_k","keyCode","undefined","preventDefault","viewAdmins","staticRenderFns","staticStyle","width","aria-valuenow","aria-valuemin","aria-valuemax","__webpack_require__","push","i","Component","normalizeComponent","ssrContext","content","locals"],"mappings":"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","file":"1.js","sourcesContent":["<template>\n    <div>\n        <div class=\"card\">\n            <div class=\"card-header\">\n                Admins / Assign Roles\n            </div>\n            <div class=\"card-body\">\n                <div v-if=\"ifReady\">\n                    <fieldset disabled>\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"name\">Name</label>\n                                    <input type=\"text\" class=\"form-control\" v-model=\"admin.name\">\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"email\">Email Address</label>\n                                    <input type=\"email\" class=\"form-control\" v-model=\"admin.email\">\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <ul class=\"list-group list-group-flush\">\n                                    <li v-for=\"(role, index) in roles\" class=\"list-group-item\" :key=\"index\">\n                                        <div class=\"row clearfix\">\n                                            <div class=\"col float-left\">\n                                                {{ role.display_name }}\n                                            </div>\n                                            <div class=\"col float-right\">\n                                                <div v-show=\"role.requesting\">\n                                                    <div class=\"progress\">\n                                                        <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%;\"></div>\n                                                    </div>\n                                                </div>\n                                                <div v-show=\"! role.requesting\">\n                                                    <div class=\"btn-group btn-group-toggle float-right\" data-toggle=\"buttons\">\n                                                        <label class=\"btn btn-outline-danger btn-sm\" @click=\"toggleRole(index)\" :class=\"{ active: ! role.isAssigned }\">\n                                                            <input type=\"radio\" autocomplete=\"off\"> Unassigned\n                                                        </label>\n                                                        <label class=\"btn btn-outline-success btn-sm\" @click=\"toggleRole(index)\" :class=\"{ active: role.isAssigned }\">\n                                                            <input type=\"radio\" autocomplete=\"off\"> Assigned\n                                                        </label>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </fieldset>\n\n                    <button type=\"button\" class=\"btn btn-info btn-sm\" @click.prevent.default=\"viewAdmins\">Back</button>\n                </div>\n\n                <div v-else>\n                    <div class=\"progress\">\n                        <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%;\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                ifReady: false,\n                roles: '',\n                assignedRoles: '',\n                admin: '',\n                test: false\n            };\n        },\n\n        mounted() {\n            let retrieveRolesPromise = new Promise((resolve, reject) => {\n                axios.get('/api/roles/retrieve-all-roles').then(res => {\n                    this.roles = res.data.roles;\n                    resolve();\n                }).catch(err => {\n                    console.log(err);\n                });\n            });\n\n            let retrieveAssignedRoles = new Promise((resolve, reject) => {\n                axios.get('/api/admins/' + this.$route.params.id + '/assigned-roles').then(res => {\n                    this.assignedRoles = res.data.assignedRoles;\n                    resolve();\n                }).catch(err => {\n                    console.log(err);\n                });\n            });\n\n            let retrieveAdminPromise = new Promise((resolve, reject) => {\n                axios.get('/api/admins/' + this.$route.params.id).then(res => {\n                    this.admin = res.data.admin;\n                    resolve();\n                }).catch(err => {\n                    console.log(err);\n                });\n            });\n\n            Promise.all([retrieveRolesPromise, retrieveAssignedRoles, retrieveAdminPromise]).then(() => {\n                this.roles.find(role => {\n                    if (_.some(this.assignedRoles, { id: role.id })) {\n                        role.isAssigned = true;\n                    } else {\n                        role.isAssigned = false;\n                    }\n\n                    role.requesting = false;\n                });\n\n                this.ifReady = true;\n            });\n        },\n\n        methods: {\n            viewAdmins() {\n                this.$router.push({\n                    name: 'admins.index'\n                });\n            },\n            isRequesting(index, value) {\n                this.roles[index].display_name = this.roles[index].display_name + ' ';\n                this.roles[index].requesting = value;\n                this.roles[index].display_name.trim();\n            },\n            toggleRole(index) {\n                this.isRequesting(index, true);\n\n                let data = {\n                    admin_id: this.$route.params.id,\n                    role_id: this.roles[index].id\n                };\n\n                axios.post('/api/admins/toggle-role', data).then(res => {\n                    this.isRequesting(index, false);\n                }).catch(err => {\n                    console.log(err);\n                });\n            }\n        }\n    }\n</script>\n\n<style>\n.row .col-md-6:first-child {\n    border-right: 1px solid rgba(0, 0, 0, 0.125);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/admins/views/admins/AssignRoles.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"\\n            Admins / Assign Roles\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.ifReady)?_c('div',[_c('fieldset',{attrs:{\"disabled\":\"\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.admin.name),expression:\"admin.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.admin.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.admin, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email Address\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.admin.email),expression:\"admin.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.admin.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.admin, \"email\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('ul',{staticClass:\"list-group list-group-flush\"},_vm._l((_vm.roles),function(role,index){return _c('li',{key:index,staticClass:\"list-group-item\"},[_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"col float-left\"},[_vm._v(\"\\n                                            \"+_vm._s(role.display_name)+\"\\n                                        \")]),_vm._v(\" \"),_c('div',{staticClass:\"col float-right\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(role.requesting),expression:\"role.requesting\"}]},[_vm._m(0,true)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(! role.requesting),expression:\"! role.requesting\"}]},[_c('div',{staticClass:\"btn-group btn-group-toggle float-right\",attrs:{\"data-toggle\":\"buttons\"}},[_c('label',{staticClass:\"btn btn-outline-danger btn-sm\",class:{ active: ! role.isAssigned },on:{\"click\":function($event){_vm.toggleRole(index)}}},[_c('input',{attrs:{\"type\":\"radio\",\"autocomplete\":\"off\"}}),_vm._v(\" Unassigned\\n                                                    \")]),_vm._v(\" \"),_c('label',{staticClass:\"btn btn-outline-success btn-sm\",class:{ active: role.isAssigned },on:{\"click\":function($event){_vm.toggleRole(index)}}},[_c('input',{attrs:{\"type\":\"radio\",\"autocomplete\":\"off\"}}),_vm._v(\" Assigned\\n                                                    \")])])])])])])}))])])]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-info btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"default\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();return _vm.viewAdmins($event)}}},[_vm._v(\"Back\")])]):_c('div',[_vm._m(1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar progress-bar-striped progress-bar-animated\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"progressbar\",\"aria-valuenow\":\"100\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar progress-bar-striped progress-bar-animated\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"progressbar\",\"aria-valuenow\":\"100\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ee6b2e4\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/admins/views/admins/AssignRoles.vue\n// module id = HXrD\n// module chunks = 1","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".row .col-md-6:first-child{border-right:1px solid rgba(0,0,0,.125)}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4ee6b2e4\",\"scoped\":false,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/admins/views/admins/AssignRoles.vue\n// module id = LrsJ\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ee6b2e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AssignRoles.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\"]}!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AssignRoles.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ee6b2e4\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AssignRoles.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/admins/views/admins/AssignRoles.vue\n// module id = SYBp\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js?minimize!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ee6b2e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AssignRoles.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"79b37c46\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4ee6b2e4\",\"scoped\":false,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/js/admins/views/admins/AssignRoles.vue\n// module id = vZy7\n// module chunks = 1"],"sourceRoot":""}